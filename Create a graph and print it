public class solution{
	 Node head;
	    Node slow_ptr, fast_ptr, dummy;
	 
	   
	    class Node {
	        char data;
	        Node next;
	 
	        Node(char d)
	        {
	            data = d;
	            next = null;
	        }
	    }
	 
	   
	    boolean isPalindrome(Node head)
	    {
	    	if(head == null || head.next == null)
	    		return true;
	        slow_ptr = head;
	        fast_ptr = head;
	        
	        while(fast_ptr.next != null && fast_ptr.next.next != null) {
	        	slow_ptr = slow_ptr.next;
	        	fast_ptr = fast_ptr.next.next;
	        }
	        
	        
	        slow_ptr.next = reverse(slow_ptr.next);
	        slow_ptr = slow_ptr.next;
	        
	        
	        while(slow_ptr != null) {
	        	
	        	if(slow_ptr.data != head.data) {
	        		return false;
	        	}
	        	slow_ptr = slow_ptr.next;
	        	head = head.next;
	        }
	        return true;
	        
	    }
	 
	   
	    Node reverse(Node head)
	    {
	        Node prev = null;
	        Node curr = head;
	        Node next = null;
	        while(curr != null) {
	        	next = curr.next;
	        	curr.next = prev;
	        	prev = curr;
	        	curr = curr.next;
	        }
	        return prev;
	    }
	 
	  
	   
	    
	    public void push(char new_data)
	    {
	       
	        Node new_node = new Node(new_data);
	 
	       
	        new_node.next = head;
	 
	      
	        head = new_node;
	    }
	 
	  
	    void printList(Node ptr)
	    {
	        while (ptr != null) {
	            System.out.print(ptr.data + "->");
	            ptr = ptr.next;
	        }
	        System.out.println("NULL");
	    }
	 
	   
	    public static void main(String[] args)
	    {
	 
	    
	        OneFiveSix llist = new OneFiveSix();
	 
	        char str[] = { 'a', 'b', 'a', 'c', 'a', 'b', 'a' };
	        String string = new String(str);
	        for (int i = 0; i < 7; i++) {
	            llist.push(str[i]);
	            llist.printList(llist.head);
	            if (llist.isPalindrome(llist.head) != false) {
	                System.out.println("Is Palindrome");
	                System.out.println("");
	            }
	            else {
	                System.out.println("Not Palindrome");
	                System.out.println("");
	            }
	        }
	    }
